{% extends 'blank.html' %}
{% load static %}
{% block content %}

{% include 'banner.html' with page_title="Shop" %}

<div class="container fruite py-5">
  <div class="container py-5">

    <h1 class="mb-4 text-center">Fresh fruits shop</h1>

    <div class="row g-4 justify-content-center text-center">
      
      {% for product in products %}
      <div class="col-md-6 col-lg-3 col-xl-3 d-flex justify-content-center">
        
        <div class="rounded position-relative fruite-item">
          
          <div class="fruite-img">
            <img src="{{ product.image.url }}"
                 class="img-fluid product-img rounded-top"
                 alt="{{ product.name }}">
          </div>

          <div class="text-white bg-secondary px-3 py-1 rounded position-absolute"
               style="top: 10px; left: 10px;">Fruits</div>

          <div class="p-4 border border-secondary border-top-0 rounded-bottom d-flex flex-column justify-content-between">
            
            <h4>{{ product.name }}</h4>
            <p>{{ product.description|truncatewords:10 }}</p>

            <div class="d-flex justify-content-between align-items-center mt-auto">
              <p class="text-dark fw-bold mb-0">â‚¹{{ product.price }}</p>
              <a href="{% url 'productdetail' product.id %}" 
                 class="btn border border-secondary rounded-pill px-3 text-primary">
                View
              </a>
            </div>

          </div>

        </div>

      </div>
      {% endfor %}
    
    </div>

  </div>
</div>



<div class="col-12">
    <div class="pagination d-flex justify-content-center mt-5">

        {% if products.has_previous %}
            <a href="?page={{ products.previous_page_number }}" class="rounded">&laquo;</a>
        {% endif %}

        {% for num in products.paginator.page_range %}
            {% if products.number == num %}
                <a href="?page={{ num }}" class="active rounded">{{ num }}</a>
            {% else %}
                <a href="?page={{ num }}" class="rounded">{{ num }}</a>
            {% endif %}
        {% endfor %}

        {% if products.has_next %}
            <a href="?page={{ products.next_page_number }}" class="rounded">&raquo;</a>
        {% endif %}

    </div>
</div>


{% endblock content %}